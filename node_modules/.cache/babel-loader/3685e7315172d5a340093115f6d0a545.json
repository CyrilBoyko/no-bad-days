{"ast":null,"code":"import _slicedToArray from\"/Users/a1/Desktop/app/no-bad-days-social-network-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import classes from'./ProfileInfo.module.css';import Preloader from\"../../common/Preloader/Preloader\";import ProfileStatusWithHooks from\"./ProfileStatusWithHooks\";import userPhoto from\"../../../assets/images/user.png\";import ProfileDataForm from\"./ProfileDataForm\";var ProfileInfo=function ProfileInfo(_ref){var profile=_ref.profile,status=_ref.status,updateStatus=_ref.updateStatus,isOwner=_ref.isOwner,savePhoto=_ref.savePhoto,saveProfile=_ref.saveProfile;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];if(!profile){return/*#__PURE__*/React.createElement(Preloader,null);}var onMainPhotoSelected=function onMainPhotoSelected(e){if(e.target.files.length){savePhoto(e.target.files[0]);}};var onSubmit=function onSubmit(formData){saveProfile(formData).then(function(){setEditMode(false);});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.headerImage},/*#__PURE__*/React.createElement(\"img\",{src:require(\"./beach.jpg\")})),/*#__PURE__*/React.createElement(\"div\",{className:classes.descriptionBlock},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:profile.photos.large||userPhoto,className:classes.profilePhoto})),/*#__PURE__*/React.createElement(\"div\",null,isOwner&&/*#__PURE__*/React.createElement(\"input\",{type:\"file\",onChange:onMainPhotoSelected})),editMode?/*#__PURE__*/React.createElement(ProfileDataForm,{initialValues:profile,profile:profile,onSubmit:onSubmit}):/*#__PURE__*/React.createElement(ProfileData,{goToEditMode:function goToEditMode(){setEditMode(true);},profile:profile,isOwner:isOwner}),/*#__PURE__*/React.createElement(ProfileStatusWithHooks,{status:status,updateStatus:updateStatus})));};var Contact=function Contact(_ref2){var contactTitle=_ref2.contactTitle,contactValue=_ref2.contactValue;return/*#__PURE__*/React.createElement(\"div\",{className:classes.contact},/*#__PURE__*/React.createElement(\"b\",null,contactTitle,\":\"),contactValue);};var ProfileData=function ProfileData(_ref3){var profile=_ref3.profile,isOwner=_ref3.isOwner,goToEditMode=_ref3.goToEditMode;return/*#__PURE__*/React.createElement(\"div\",null,isOwner&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:goToEditMode},\"edit\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Full name:\"),\" \",profile.fullName),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Looking for a job:\"),\" \",profile.lookingForAJob?\"yes\":\"no\"),profile.lookingForAJob&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"My professional skills:\"),\" \",profile.lookingForAJobDescription),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"About me:\"),\" \",profile.aboutMe),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Contacts:\"),\" \",Object.keys(profile.contacts).map(function(key){return/*#__PURE__*/React.createElement(Contact,{key:key,contactTitle:key,contactValue:profile.contacts[key]});})));};export default ProfileInfo;","map":{"version":3,"sources":["/Users/a1/Desktop/app/no-bad-days-social-network-demo/src/components/Profile/ProfileInfo/ProfileInfo.jsx"],"names":["React","useState","classes","Preloader","ProfileStatusWithHooks","userPhoto","ProfileDataForm","ProfileInfo","profile","status","updateStatus","isOwner","savePhoto","saveProfile","editMode","setEditMode","onMainPhotoSelected","e","target","files","length","onSubmit","formData","then","headerImage","require","descriptionBlock","photos","large","profilePhoto","Contact","contactTitle","contactValue","contact","ProfileData","goToEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Object","keys","contacts","map","key"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport classes from './ProfileInfo.module.css';\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport userPhoto from \"../../../assets/images/user.png\";\nimport ProfileDataForm from \"./ProfileDataForm\";\n\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) => {\n\n    let [editMode, setEditMode] = useState(false);\n\n    if (!profile) {\n        return <Preloader/>\n    }\n\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            savePhoto(e.target.files[0]);\n        }\n    };\n\n    const onSubmit = (formData) => {\n        saveProfile(formData).then(\n            () => {\n                setEditMode(false);\n            }\n        );\n    };\n\n    return (\n        <div>\n            <div className={classes.headerImage}>\n                <img src={require(\"./beach.jpg\")}/>\n            </div>\n            <div className={classes.descriptionBlock}>\n                <div>\n                    <img src={profile.photos.large || userPhoto} className={classes.profilePhoto}/>\n                </div>\n                <div>\n                    {isOwner && <input type={\"file\"}\n                                       onChange={onMainPhotoSelected}/>}\n                </div>\n                {editMode\n                    ? <ProfileDataForm initialValues={profile}\n                                       profile={profile}\n                                       onSubmit={onSubmit}/>\n                    : <ProfileData goToEditMode={() => {\n                        setEditMode(true)\n                    }}\n                                   profile={profile}\n                                   isOwner={isOwner}/>}\n                <ProfileStatusWithHooks status={status}\n                                        updateStatus={updateStatus}/>\n            </div>\n        </div>\n    )\n};\n\nconst Contact = ({contactTitle, contactValue}) => {\n    return (\n        <div className={classes.contact}>\n            <b>{contactTitle}:</b>{contactValue}\n        </div>\n    )\n};\n\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\n    return (\n        <div>\n            {isOwner && <div>\n                <button onClick={goToEditMode}>edit</button>\n            </div>}\n            <div>\n                <b>Full name:</b> {profile.fullName}\n            </div>\n            <div>\n                <b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}\n            </div>\n            {profile.lookingForAJob && <div>\n                <b>My professional skills:</b> {profile.lookingForAJobDescription}\n            </div>}\n            <div>\n                <b>About me:</b> {profile.aboutMe}\n            </div>\n            <div>\n                <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\n                return <Contact key={key}\n                                contactTitle={key}\n                                contactValue={profile.contacts[key]}/>\n            })}\n            </div>\n        </div>\n    )\n};\n\nexport default ProfileInfo;"]},"metadata":{},"sourceType":"module"}